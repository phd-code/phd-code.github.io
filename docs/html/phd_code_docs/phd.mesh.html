<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="phd.mesh.test package" href="phd.mesh.test.html" /><link rel="prev" title="phd.load_balance package" href="phd.load_balance.html" />

    <meta name="generator" content="sphinx-3.2.1, furo 2021.02.28.beta28"/>
        <title>phd.mesh package - phd 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/styles/furo.css?digest=be5985a4059b5c2cd56ed0804790452beca62674">
    <link rel="stylesheet" href="../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="../_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">phd 0.1 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">phd 0.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials.html">Tutorials and Test Problems</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../example_nbooks/linear_wave_test.html">A simple linear wave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_nbooks/sod_shock_test.html">Sod Shock Tube</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_nbooks/gresho_test.html">The Gresho Vortex Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_nbooks/kelvin_helmholtz_test.html">Kelvin-Helmholtz Instability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_nbooks/sedov_test.html">Sedov-Taylor Blast Wave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_nbooks/two_body_test.html">Two Body Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_nbooks/plummer_test.html">Plummer Sphere</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_nbooks/rayleigh_taylor_test.html">Rayleigh-Taylor Instability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_nbooks/evrard_test.html">Evrard Collapse</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../docs.html">Documentation</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="phd.containers.html">phd.containers package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="phd.containers.tests.html">phd.containers.tests package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="phd.domain.html">phd.domain package</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.equation_state.html">phd.equation_state package</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.gravity.html">phd.gravity package</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.hilbert.html">phd.hilbert package</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.integrate.html">phd.integrate package</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.io.html">phd.io package</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.load_balance.html">phd.load_balance package</a></li>
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">phd.mesh package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="phd.mesh.test.html">phd.mesh.test package</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="phd.reconstruction.html">phd.reconstruction package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="phd.reconstruction.test.html">phd.reconstruction.test package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="phd.riemann.html">phd.riemann package</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.simulation.html">phd.simulation package</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.source_term.html">phd.source_term package</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.utils.html">phd.utils package</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="phd-mesh-package">
<h1>phd.mesh package<a class="headerlink" href="#phd-mesh-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="phd.mesh.test.html">phd.mesh.test package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="phd.mesh.test.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.mesh.test.html#phd-mesh-test-test-mesh-module">phd.mesh.test.test_mesh module</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.mesh.test.html#phd-mesh-test-tests-module">phd.mesh.test.tests module</a></li>
<li class="toctree-l2"><a class="reference internal" href="phd.mesh.test.html#module-phd.mesh.test">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-phd.mesh.mesh">
<span id="phd-mesh-mesh-module"></span><h2>phd.mesh.mesh module<a class="headerlink" href="#module-phd.mesh.mesh" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="phd.mesh.mesh.Mesh">
<em class="property">class </em><code class="sig-prename descclassname">phd.mesh.mesh.</code><code class="sig-name descname">Mesh</code><a class="headerlink" href="#phd.mesh.mesh.Mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Voronoi mesh responsible to build mesh, neighbor information,
and all geometric quantities.</p>
<dl class="py attribute">
<dt id="phd.mesh.mesh.Mesh.eta">
<code class="sig-name descname">eta</code><a class="headerlink" href="#phd.mesh.mesh.Mesh.eta" title="Permalink to this definition">¶</a></dt>
<dd><p>Regularize parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="phd.mesh.mesh.Mesh.max_iterations">
<code class="sig-name descname">max_iterations</code><a class="headerlink" href="#phd.mesh.mesh.Mesh.max_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p>The max number of mesh updates in a build. This is
stop an infinite loop for bad meshes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="phd.mesh.mesh.Mesh.num_neighbors">
<code class="sig-name descname">num_neighbors</code><a class="headerlink" href="#phd.mesh.mesh.Mesh.num_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial number of neighbors for each particle. Used
to allocate storage space.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="phd.mesh.mesh.Mesh.regularize">
<code class="sig-name descname">regularize</code><a class="headerlink" href="#phd.mesh.mesh.Mesh.regularize" title="Permalink to this definition">¶</a></dt>
<dd><p>Add regularization to velocity mesh generators.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="phd.mesh.mesh.Mesh.relax_iterations">
<code class="sig-name descname">relax_iterations</code><a class="headerlink" href="#phd.mesh.mesh.Mesh.relax_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of times to perform lloyd relaxation on startup.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="phd.mesh.mesh.Mesh.assign_face_velocities">
<code class="sig-name descname">assign_face_velocities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#phd.mesh.mesh.Mesh.assign_face_velocities" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns velocities to face center of face defined by
neighboring particles.</p>
<p>The face velocity is the average of particle velocities
that define the face plus a residual motion. The algorithm
is taken from Springel (2009).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="phd.mesh.mesh.Mesh.assign_generator_velocities">
<code class="sig-name descname">assign_generator_velocities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#phd.mesh.mesh.Mesh.assign_generator_velocities" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns particle velocities.</p>
<p>Particle velocities are equal to local fluid velocity plus a
regularization term. The algorithm is taken from Springel (2009).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>eos</strong> (<a class="reference internal" href="phd.equation_state.html#id0" title="phd.equation_state.equation_state.EquationStateBase"><em>EquationStateBase</em></a>) – Thermodynamic equation of state.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="phd.mesh.mesh.Mesh.build_geometry">
<code class="sig-name descname">build_geometry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#phd.mesh.mesh.Mesh.build_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the voronoi mesh and then extract mesh information, i.e
volumes, face information, and neighbors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>domain_manager</strong> (<a class="reference internal" href="phd.domain.html#id8" title="phd.domain.domain_manager.DomainManager"><em>DomainManager</em></a>) – Class that handels all things related with the domain.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id0">
<code class="sig-name descname">eta</code><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py attribute">
<dt id="phd.mesh.mesh.Mesh.faces">
<code class="sig-name descname">faces</code><a class="headerlink" href="#phd.mesh.mesh.Mesh.faces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt id="phd.mesh.mesh.Mesh.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#phd.mesh.mesh.Mesh.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup all connections for computation classes. Should check
always if particle_fields_registered is True.</p>
</dd></dl>
<dl class="py attribute">
<dt id="id1">
<code class="sig-name descname">max_iterations</code><a class="headerlink" href="#id1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py attribute">
<dt id="id2">
<code class="sig-name descname">num_neighbors</code><a class="headerlink" href="#id2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt id="phd.mesh.mesh.Mesh.register_fields">
<code class="sig-name descname">register_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#phd.mesh.mesh.Mesh.register_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Register mesh fields into the particle container (i.e.
volume, center of mass).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id3">
<code class="sig-name descname">regularize</code><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt id="phd.mesh.mesh.Mesh.relax">
<code class="sig-name descname">relax</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#phd.mesh.mesh.Mesh.relax" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform mesh relaxation by moving particles to their center of mass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>domain_manager</strong> (<a class="reference internal" href="phd.domain.html#id8" title="phd.domain.domain_manager.DomainManager"><em>DomainManager</em></a>) – Class that handels all things related with the domain.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id4">
<code class="sig-name descname">relax_iterations</code><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt id="phd.mesh.mesh.Mesh.reset_mesh">
<code class="sig-name descname">reset_mesh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#phd.mesh.mesh.Mesh.reset_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear out mesh data.</p>
</dd></dl>
<dl class="py method">
<dt id="phd.mesh.mesh.Mesh.tessellate">
<code class="sig-name descname">tessellate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#phd.mesh.mesh.Mesh.tessellate" title="Permalink to this definition">¶</a></dt>
<dd><p>Create voronoi tessellation.</p>
<p>The method of creating the voronoi tessellation follows the idea of
Efficient Delaunay Tessellation Through K-D Tree Decomposition
by Dmitriy Morozov and Tom Peterka. The general idea is create
a local tessellation. Those particles will have either finite
or infinite radius. Use this radius (for infinite assign a radius)
and create boundary particles if it intersects the boundary or export
if intersects another processors boundary. Add new particles to the
mesh. If the new radius is smaller then previous radius then the
particle can not influence anymore otherwise increase the radius
untill all particles are done. In this first implementation we don’t
have a kd tree but use octtree for searches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>domain_manager</strong> (<a class="reference internal" href="phd.domain.html#id8" title="phd.domain.domain_manager.DomainManager"><em>DomainManager</em></a>) – Class that handels all things related with the domain.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="phd.mesh.mesh.Mesh.update_from_fluxes">
<code class="sig-name descname">update_from_fluxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#phd.mesh.mesh.Mesh.update_from_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Update conservative variables from fluxes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>riemann</strong> (<a class="reference internal" href="phd.riemann.html#id13" title="phd.riemann.riemann.RiemannBase"><em>RiemannBase</em></a>) – Class that solves the riemann problem.</p></li>
<li><p><strong>dt</strong> (<em>double</em>) – Simulation time step.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="id5">
<h2>phd.mesh.mesh module<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-0"></span><dl class="py class">
<dt id="id6">
<em class="property">class </em><code class="sig-prename descclassname">phd.mesh.mesh.</code><code class="sig-name descname">Mesh</code><a class="headerlink" href="#id6" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Voronoi mesh responsible to build mesh, neighbor information,
and all geometric quantities.</p>
<dl class="py attribute">
<dt id="id7">
<code class="sig-name descname">eta</code><a class="headerlink" href="#id7" title="Permalink to this definition">¶</a></dt>
<dd><p>Regularize parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id8">
<code class="sig-name descname">max_iterations</code><a class="headerlink" href="#id8" title="Permalink to this definition">¶</a></dt>
<dd><p>The max number of mesh updates in a build. This is
stop an infinite loop for bad meshes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id9">
<code class="sig-name descname">num_neighbors</code><a class="headerlink" href="#id9" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial number of neighbors for each particle. Used
to allocate storage space.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id10">
<code class="sig-name descname">regularize</code><a class="headerlink" href="#id10" title="Permalink to this definition">¶</a></dt>
<dd><p>Add regularization to velocity mesh generators.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id11">
<code class="sig-name descname">relax_iterations</code><a class="headerlink" href="#id11" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of times to perform lloyd relaxation on startup.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="id12">
<code class="sig-name descname">assign_face_velocities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id12" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns velocities to face center of face defined by
neighboring particles.</p>
<p>The face velocity is the average of particle velocities
that define the face plus a residual motion. The algorithm
is taken from Springel (2009).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="id13">
<code class="sig-name descname">assign_generator_velocities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id13" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns particle velocities.</p>
<p>Particle velocities are equal to local fluid velocity plus a
regularization term. The algorithm is taken from Springel (2009).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>eos</strong> (<a class="reference internal" href="phd.equation_state.html#id0" title="phd.equation_state.equation_state.EquationStateBase"><em>EquationStateBase</em></a>) – Thermodynamic equation of state.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="id14">
<code class="sig-name descname">build_geometry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id14" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the voronoi mesh and then extract mesh information, i.e
volumes, face information, and neighbors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>domain_manager</strong> (<a class="reference internal" href="phd.domain.html#id8" title="phd.domain.domain_manager.DomainManager"><em>DomainManager</em></a>) – Class that handels all things related with the domain.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id15">
<code class="sig-name descname">eta</code><a class="headerlink" href="#id15" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py attribute">
<dt id="id16">
<code class="sig-name descname">faces</code><a class="headerlink" href="#id16" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt id="id17">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id17" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup all connections for computation classes. Should check
always if particle_fields_registered is True.</p>
</dd></dl>
<dl class="py attribute">
<dt id="id18">
<code class="sig-name descname">max_iterations</code><a class="headerlink" href="#id18" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py attribute">
<dt id="id19">
<code class="sig-name descname">num_neighbors</code><a class="headerlink" href="#id19" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt id="id20">
<code class="sig-name descname">register_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id20" title="Permalink to this definition">¶</a></dt>
<dd><p>Register mesh fields into the particle container (i.e.
volume, center of mass).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id21">
<code class="sig-name descname">regularize</code><a class="headerlink" href="#id21" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt id="id22">
<code class="sig-name descname">relax</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id22" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform mesh relaxation by moving particles to their center of mass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>domain_manager</strong> (<a class="reference internal" href="phd.domain.html#id8" title="phd.domain.domain_manager.DomainManager"><em>DomainManager</em></a>) – Class that handels all things related with the domain.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py attribute">
<dt id="id23">
<code class="sig-name descname">relax_iterations</code><a class="headerlink" href="#id23" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt id="id24">
<code class="sig-name descname">reset_mesh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id24" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear out mesh data.</p>
</dd></dl>
<dl class="py method">
<dt id="id25">
<code class="sig-name descname">tessellate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id25" title="Permalink to this definition">¶</a></dt>
<dd><p>Create voronoi tessellation.</p>
<p>The method of creating the voronoi tessellation follows the idea of
Efficient Delaunay Tessellation Through K-D Tree Decomposition
by Dmitriy Morozov and Tom Peterka. The general idea is create
a local tessellation. Those particles will have either finite
or infinite radius. Use this radius (for infinite assign a radius)
and create boundary particles if it intersects the boundary or export
if intersects another processors boundary. Add new particles to the
mesh. If the new radius is smaller then previous radius then the
particle can not influence anymore otherwise increase the radius
untill all particles are done. In this first implementation we don’t
have a kd tree but use octtree for searches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>domain_manager</strong> (<a class="reference internal" href="phd.domain.html#id8" title="phd.domain.domain_manager.DomainManager"><em>DomainManager</em></a>) – Class that handels all things related with the domain.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="id26">
<code class="sig-name descname">update_from_fluxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id26" title="Permalink to this definition">¶</a></dt>
<dd><p>Update conservative variables from fluxes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particles</strong> (<a class="reference internal" href="phd.containers.html#id0" title="phd.containers.containers.CarrayContainer"><em>CarrayContainer</em></a>) – Class that holds all information pertaining to the particles.</p></li>
<li><p><strong>riemann</strong> (<a class="reference internal" href="phd.riemann.html#id13" title="phd.riemann.riemann.RiemannBase"><em>RiemannBase</em></a>) – Class that solves the riemann problem.</p></li>
<li><p><strong>dt</strong> (<em>double</em>) – Simulation time step.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-phd.mesh.pytess">
<span id="phd-mesh-pytess-module"></span><h2>phd.mesh.pytess module<a class="headerlink" href="#module-phd.mesh.pytess" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="phd.mesh.pytess.PyTess">
<em class="property">class </em><code class="sig-prename descclassname">phd.mesh.pytess.</code><code class="sig-name descname">PyTess</code><a class="headerlink" href="#phd.mesh.pytess.PyTess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>
<dl class="py class">
<dt id="phd.mesh.pytess.PyTess2d">
<em class="property">class </em><code class="sig-prename descclassname">phd.mesh.pytess.</code><code class="sig-name descname">PyTess2d</code><a class="headerlink" href="#phd.mesh.pytess.PyTess2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id28" title="phd.mesh.pytess.PyTess"><code class="xref py py-class docutils literal notranslate"><span class="pre">phd.mesh.pytess.PyTess</span></code></a></p>
</dd></dl>
<dl class="py class">
<dt id="phd.mesh.pytess.PyTess3d">
<em class="property">class </em><code class="sig-prename descclassname">phd.mesh.pytess.</code><code class="sig-name descname">PyTess3d</code><a class="headerlink" href="#phd.mesh.pytess.PyTess3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id28" title="phd.mesh.pytess.PyTess"><code class="xref py py-class docutils literal notranslate"><span class="pre">phd.mesh.pytess.PyTess</span></code></a></p>
</dd></dl>
</div>
<div class="section" id="id27">
<h2>phd.mesh.pytess module<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-1"></span><dl class="py class">
<dt id="id28">
<em class="property">class </em><code class="sig-prename descclassname">phd.mesh.pytess.</code><code class="sig-name descname">PyTess</code><a class="headerlink" href="#id28" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>
<dl class="py class">
<dt id="id29">
<em class="property">class </em><code class="sig-prename descclassname">phd.mesh.pytess.</code><code class="sig-name descname">PyTess2d</code><a class="headerlink" href="#id29" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id28" title="phd.mesh.pytess.PyTess"><code class="xref py py-class docutils literal notranslate"><span class="pre">phd.mesh.pytess.PyTess</span></code></a></p>
</dd></dl>
<dl class="py class">
<dt id="id30">
<em class="property">class </em><code class="sig-prename descclassname">phd.mesh.pytess.</code><code class="sig-name descname">PyTess3d</code><a class="headerlink" href="#id30" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id28" title="phd.mesh.pytess.PyTess"><code class="xref py py-class docutils literal notranslate"><span class="pre">phd.mesh.pytess.PyTess</span></code></a></p>
</dd></dl>
</div>
<div class="section" id="module-phd.mesh">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-phd.mesh" title="Permalink to this headline">¶</a></h2>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="phd.mesh.test.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">phd.mesh.test package</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="phd.load_balance.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">phd.load_balance package</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Ricardo Fernandez, Greg Bryan
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/phd_code_docs/phd.mesh.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">phd.mesh package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-phd.mesh.mesh">phd.mesh.mesh module</a></li>
<li><a class="reference internal" href="#id5">phd.mesh.mesh module</a></li>
<li><a class="reference internal" href="#module-phd.mesh.pytess">phd.mesh.pytess module</a></li>
<li><a class="reference internal" href="#id27">phd.mesh.pytess module</a></li>
<li><a class="reference internal" href="#module-phd.mesh">Module contents</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>